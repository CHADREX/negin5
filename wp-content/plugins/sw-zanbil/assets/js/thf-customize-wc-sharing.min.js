const THF_Customize_WC_Sharing={init(){isset(window.THF_NOTIFIER)&&(window.THF_NOTIFIER=null,delete window.THF_NOTIFIER),window.THF_NOTIFIER=THF_Customize_WC_Sharing.constructor()},constructor(){this.defineVariables(),this.setup()},defineVariables(){this.$doc=jQuery(document),this.$window=jQuery(window),this.$sharingForm=null,this.sharingModal="#sharingModal",this.sharingForm="#sharingModalForm",this.sharingFormBtn='.btn[type="submit"]',this.sharingFormAlert=".modal-form-alert",this.$sharingFormInputs=null,this.sharingFormData={},this.sharingToBeExecuted=null},setup(){const r=this;r.$doc.on("submit",r.sharingForm,function(s){s.preventDefault(),r.$sharingForm=jQuery(this),r.startSharing()})},startSharing(){const r=this;let s=null;if(r.$sharingFormInputs=r.$sharingForm.find('input,button[type="submit"]'),r.$sharingFormBtn=r.$sharingForm.find(r.sharingFormBtn),!is_empty(r.sharingToBeExecuted))return!1;r.sharingToBeExecuted=ajaxRequest({data:r.getFormData(),beforeSend:function(){r.$sharingFormBtn.button("loading"),r.inputsDisabled(!0),r.setFormAlert("hide"),s=null},success:function(t){r.$sharingFormBtn.button("reset"),r.inputsDisabled(!1),isset(t.data.msg)&&(s=t.data.msg),t.success?r.setFormAlert("success",s):r.setFormAlert("danger",s)},complete:function(){r.sharingToBeExecuted=null}})},inputsDisabled(r=!0){const s=this;!0===r?s.$sharingFormInputs.attr("disabled","disabled").addClass("disabled"):s.$sharingFormInputs.removeAttr("disabled").removeClass("disabled")},getFormData(){const r=this;return r.sharingFormData={},r.sharingFormData.action="thf_woocommerce_sharing",jQuery.map(r.$sharingForm.serializeArray(),function(s,t){r.sharingFormData[s.name]=s.value}),r.sharingFormData},setFormAlert(r,s=null){const t=this;if(t.$sharingFormAlert=t.$sharingForm.find(t.sharingFormAlert),t.$sharingFormAlert.removeClass("hidden").hide(),"hide"===r?t.$sharingFormAlert.hide().html(""):"success"===r?t.$sharingFormAlert.addClass("alert-success").removeClass("alert-danger").show():"danger"===r&&t.$sharingFormAlert.addClass("alert-danger").removeClass("alert-success").show(),"hide"!==r&&is_empty(s))return t.$sharingFormAlert.hide(),!1;if(jQuery.isArray(s))if(s.length>1){let r="";r+="<ul>",jQuery.each(s,function(s,t){r+="<li>"+t+"</li>"}),r+="</ul>",t.$sharingFormAlert.html(r)}else t.$sharingFormAlert.html(s[0]);else t.$sharingFormAlert.html(s)}};jQuery(document).ready(function(){THF_Customize_WC_Sharing.init()});