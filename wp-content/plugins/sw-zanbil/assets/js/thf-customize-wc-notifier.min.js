const THF_Customize_WC_Notifier={init(){isset(window.THF_NOTIFIER)&&(window.THF_NOTIFIER=null,delete window.THF_NOTIFIER),window.THF_NOTIFIER=THF_Customize_WC_Notifier.constructor()},constructor(){this.defineVariables(),this.setup()},defineVariables(){this.$doc=jQuery(document),this.$window=jQuery(window),this.$subscribeForm=null,this.subscribeModal="#notifierModal",this.subscribeForm="#notifierModalForm",this.subscribeFormBtn='.btn[type="submit"]',this.subscribeFormAlert=".modal-form-alert",this.$subscribeFormInputs=null,this.subscribeFormData={},this.subscribeToBeExecuted=null},setup(){const s=this;s.$doc.on("submit",s.subscribeForm,function(e){e.preventDefault(),s.$subscribeForm=jQuery(this),s.subscribeUser()})},subscribeUser(){const s=this;let e=null;if(s.$subscribeFormInputs=s.$subscribeForm.find('input,button[type="submit"]'),s.$subscribeFormBtn=s.$subscribeForm.find(s.subscribeFormBtn),!is_empty(s.subscribeToBeExecuted))return!1;s.subscribeToBeExecuted=ajaxRequest({data:s.getFormData(),beforeSend:function(){s.$subscribeFormBtn.button("loading"),s.inputsDisabled(!0),s.setFormAlert("hide"),e=null},success:function(r){s.$subscribeFormBtn.button("reset"),s.inputsDisabled(!1),isset(r.data.msg)&&(e=r.data.msg),r.success?s.setFormAlert("success",e):s.setFormAlert("danger",e)},complete:function(){s.subscribeToBeExecuted=null}})},inputsDisabled(s=!0){const e=this;!0===s?e.$subscribeFormInputs.attr("disabled","disabled").addClass("disabled"):e.$subscribeFormInputs.removeAttr("disabled").removeClass("disabled")},getFormData(){const s=this;return s.subscribeFormData={},s.subscribeFormData.action="thf_woocommerce_subscribe_user",jQuery.map(s.$subscribeForm.serializeArray(),function(e,r){s.subscribeFormData[e.name]=e.value}),s.subscribeFormData},setFormAlert(s,e=null){const r=this;if(r.$subscribeFormAlert=r.$subscribeForm.find(r.subscribeFormAlert),r.$subscribeFormAlert.removeClass("hidden").hide(),"hide"===s?r.$subscribeFormAlert.hide().html(""):"success"===s?r.$subscribeFormAlert.addClass("alert-success").removeClass("alert-danger").show():"danger"===s&&r.$subscribeFormAlert.addClass("alert-danger").removeClass("alert-success").show(),"hide"!==s&&is_empty(e))return r.$subscribeFormAlert.hide(),!1;if(jQuery.isArray(e))if(e.length>1){let s="";s+="<ul>",jQuery.each(e,function(e,r){s+="<li>"+r+"</li>"}),s+="</ul>",r.$subscribeFormAlert.html(s)}else r.$subscribeFormAlert.html(e[0]);else r.$subscribeFormAlert.html(e)}};jQuery(document).ready(function(){THF_Customize_WC_Notifier.init()});