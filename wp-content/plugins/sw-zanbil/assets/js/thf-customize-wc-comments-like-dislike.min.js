const THF_Customize_WC_Comments_Like_Dislike={init(){isset(window.THF_COMMENTS_LIKE_DISLIKE)&&(window.THF_COMMENTS_LIKE_DISLIKE=null,delete window.THF_COMMENTS_LIKE_DISLIKE),window.THF_COMMENTS_LIKE_DISLIKE=THF_Customize_WC_Comments_Like_Dislike.constructor()},constructor(){this.defineVariables(),this.setup()},defineVariables(){this.$doc=jQuery(document),this.$window=jQuery(window),this.$trigger=null,this.like_dislike_trigger_class=".tcw-comment-like-dislike-trigger",this.ajaxFlag=0},setup(){const t=this;t.$doc.on("click",t.like_dislike_trigger_class,function(){t.$trigger=jQuery(this),t.comment_like_dislike()})},comment_like_dislike(){const t=this;if(1===t.ajaxFlag)return!1;let e=t.$trigger.attr("data-restriction"),i=t.$trigger.attr("data-comment-id"),a=t.$trigger.attr("data-trigger-type"),s=t.$trigger.attr("data-counter"),d=(parseInt(s),t.$trigger.attr("data-user-ip")),r=t.$trigger.attr("data-ip-check"),n=thf_getCookie("tcw_comment_"+i),_=1;t.$like_btn=jQuery('.tcw-comment-like-trigger[data-comment-id="'+i+'"]'),t.$dislike_btn=jQuery('.tcw-comment-dislike-trigger[data-comment-id="'+i+'"]'),("cookie"===e&&!is_empty(n)||"ip"===e&&"1"===r)&&(_=0),1===_&&ajaxRequest({data:{comment_id:i,action:"tcw_comment_ajax_action",type:a,user_ip:d},beforeSend:function(){t.ajaxFlag=1,t.like_dislike_disabled(!0)},success:function(a){t.ajaxFlag=0,t.like_dislike_disabled(!1),a.success&&("ip"===e?t.$trigger.attr("data-ip-check",1):"cookie"===e&&thf_setCookie("tcw_comment_"+i,1,365),t.$like_btn.attr("data-counter",a.data.like_count),t.$dislike_btn.attr("data-counter",a.data.dislike_count))}})},like_dislike_disabled(t=!0){const e=this;!0===t?(e.$like_btn.attr("disabled","disabled").addClass("disabled"),e.$dislike_btn.attr("disabled","disabled").addClass("disabled")):(e.$like_btn.removeAttr("disabled").removeClass("disabled"),e.$dislike_btn.removeAttr("disabled").removeClass("disabled"))},set_comment_like_dislike(t,e){let i=parseInt(this.$like_btn.attr("data-counter"))+t,a=parseInt(this.$dislike_btn.attr("data-counter"))+e;this.$like_btn.attr("data-counter",i),this.$dislike_btn.attr("data-counter",a)}};jQuery(document).ready(function(){THF_Customize_WC_Comments_Like_Dislike.init()});